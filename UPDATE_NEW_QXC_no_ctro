// ==UserScript==
// @name         UPDATE_NEW_QXC_no_ctro
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       You
// @match       http://*/*
// @grant        none
// ==/UserScript==

 (function() {
    'use strict';
  // var aa="d040b253-263c-40a6-9a7e-d41dad42ce9b";

    var tj_pv=0.01;//四定位，头奖赔率
    var sand_pv=0.08;//三定位赔率
    var erd_pv=0.05;//二定位赔率

    var six_pv=0.04;//四字现赔率
    var sanx_pv=0.09;//三字现赔率
    var erx_pv=0.04;//二字位赔率
 var temp_num=0;

  setTimeout(funcName,500);

 function funcName() {
           var tb = document.getElementById("tbody2");
            if(tb !=null){
                $.each(tb.children,function(e){
                    var hs=tj_pv;//默认头奖比例
                    var that=this;

                    if(that.cells.length>1){

                        var temp_0=that.cells[1].innerText;//赔率栏
                        var pv= temp_0.split(':')[1];//赔率
                        var last_pv=pv*(1-hs);//最后赔率

                         var temp_1=that.cells[0].innerText;//奖码

                        if(!isNaN(temp_1) && temp_1.length ==4){//头奖
                            last_pv=String(last_pv).substring(0,3)+'0';//个位数归0
                        }
                        else if((temp_1.split('X')).length-1>0){ //属于定位
                            var temp_2=(temp_1.split('X')).length-1;
                            if(temp_2==1){//三字定
                                hs=sand_pv;
                                last_pv=parseInt(pv*(1-hs));
                            } else if(temp_2==2){//二字定
                                hs=erd_pv;
                                last_pv=parseInt(pv*(1-hs));
                            }
                        }  else if((temp_1.split('现')).length-1>0){ //属于现码

                            if(temp_1.length-1 ==4){//四字现
                                hs=six_pv;
                                last_pv=parseInt(pv*(1-hs));
                            } else  if(temp_1.length-1 ==3){//三字现
                                hs=sanx_pv;
                                last_pv=parseInt(pv*(1-hs));
                            }  else  if(temp_1.length-1 ==2){//二字现
                                hs=erx_pv;
                                last_pv=parseInt(pv*(1-hs));
                            }
                        }
                        temp_num+=1;
                        that.cells[1].innerText="1:"+last_pv;//修改赔率
                    }
                });
            }
      }




})();

